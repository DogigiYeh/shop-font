import{p as I,G as E,c as h,Z as k,d as Q,aV as x,aS as W,y as A,E as P,aF as p,bd as F,bv as D,bj as O,w as T,b9 as K,a0 as B,a4 as Z,bL as M}from"./index-DoTAM53F.js";const H=(t,r,e)=>t==null||r==null?-1:t.toString().toLocaleLowerCase().indexOf(r.toString().toLocaleLowerCase()),ee=I({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function J(t,r,e){var n;const a=[],l=(e==null?void 0:e.default)??H,f=e!=null&&e.filterKeys?x(e.filterKeys):!1,u=Object.keys((e==null?void 0:e.customKeyFilter)??{}).length;if(!(t!=null&&t.length))return a;e:for(let s=0;s<t.length;s++){const[c,o=c]=x(t[s]),d={},g={};let y=-1;if((r||u>0)&&!(e!=null&&e.noFilter)){if(typeof c=="object"){const b=f||Object.keys(o);for(const i of b){const v=W(o,i),w=(n=e==null?void 0:e.customKeyFilter)==null?void 0:n[i];if(y=w?w(v,r,c):l(v,r,c),y!==-1&&y!==!1)w?d[i]=y:g[i]=y;else if((e==null?void 0:e.filterMode)==="every")continue e}}else y=l(c,r,c),y!==-1&&y!==!1&&(g.title=y);const m=Object.keys(g).length,S=Object.keys(d).length;if(!m&&!S||(e==null?void 0:e.filterMode)==="union"&&S!==u&&!m||(e==null?void 0:e.filterMode)==="intersection"&&(S!==u||!m))continue}a.push({index:s,matches:{...g,...d}})}return a}function te(t,r,e,a){const l=E([]),f=E(new Map),u=h(()=>a!=null&&a.transform?k(r).map(s=>[s,a.transform(s)]):k(r));Q(()=>{const s=typeof e=="function"?e():k(e),c=typeof s!="string"&&typeof s!="number"?"":String(s),o=J(u.value,c,{customKeyFilter:{...t.customKeyFilter,...k(a==null?void 0:a.customKeyFilter)},default:t.customFilter,filterKeys:t.filterKeys,filterMode:t.filterMode,noFilter:t.noFilter}),d=k(r),g=[],y=new Map;o.forEach(m=>{let{index:S,matches:b}=m;const i=d[S];g.push(i),y.set(i.value,b)}),l.value=g,f.value=y});function n(s){return f.value.get(s.value)}return{filteredItems:l,filteredMatches:f,getMatches:n}}const ae=I({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),j=Symbol.for("vuetify:datatable:expanded");function re(t){const r=A(t,"expandOnClick"),e=P(t,"expanded",t.expanded,n=>new Set(n),n=>[...n.values()]);function a(n,s){const c=new Set(e.value);s?c.add(n.value):c.delete(n.value),e.value=c}function l(n){return e.value.has(n.value)}function f(n){a(n,!l(n))}const u={expand:a,expanded:e,expandOnClick:r,isExpanded:l,toggleExpand:f};return p(j,u),u}function le(){const t=F(j);if(!t)throw new Error("foo");return t}const ne=I({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),C=Symbol.for("vuetify:data-table-group");function ue(t){return{groupBy:P(t,"groupBy")}}function se(t){const{disableSort:r,groupBy:e,sortBy:a}=t,l=E(new Set),f=h(()=>e.value.map(o=>({...o,order:o.order??!1})).concat(r!=null&&r.value?[]:a.value));function u(o){return l.value.has(o.id)}function n(o){const d=new Set(l.value);u(o)?d.delete(o.id):d.add(o.id),l.value=d}function s(o){function d(g){const y=[];for(const m of g.items)"type"in m&&m.type==="group"?y.push(...d(m)):y.push(m);return y}return d({type:"group",items:o,id:"dummy",key:"dummy",value:"dummy",depth:0})}const c={sortByWithGroups:f,toggleGroup:n,opened:l,groupBy:e,extractRows:s,isGroupOpen:u};return p(C,c),c}function ce(){const t=F(C);if(!t)throw new Error("Missing group!");return t}function U(t,r){if(!t.length)return[];const e=new Map;for(const a of t){const l=D(a.raw,r);e.has(l)||e.set(l,[]),e.get(l).push(a)}return e}function L(t,r){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!r.length)return[];const l=U(t,r[0]),f=[],u=r.slice(1);return l.forEach((n,s)=>{const c=r[0],o=`${a}_${c}_${s}`;f.push({depth:e,id:o,key:c,value:s,items:u.length?L(n,u,e+1,o):n,type:"group"})}),f}function R(t,r){const e=[];for(const a of t)"type"in a&&a.type==="group"?(a.value!=null&&e.push(a),(r.has(a.id)||a.value==null)&&e.push(...R(a.items,r))):e.push(a);return e}function oe(t,r,e){return{flatItems:h(()=>{if(!r.value.length)return t.value;const l=L(t.value,r.value.map(f=>f.key));return R(l,e.value)})}}function ie(t){let{page:r,itemsPerPage:e,sortBy:a,groupBy:l,search:f}=t;const u=O("VDataTable"),n=h(()=>({page:r.value,itemsPerPage:e.value,sortBy:a.value,groupBy:l.value,search:f.value}));let s=null;T(n,()=>{K(s,n.value)||(s&&s.search!==n.value.search&&(r.value=1),u.emit("update:options",n.value),s=n.value)},{deep:!0,immediate:!0})}const fe=I({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),V=Symbol.for("vuetify:data-table-pagination");function de(t){const r=P(t,"page",void 0,a=>+(a??1)),e=P(t,"itemsPerPage",void 0,a=>+(a??10));return{page:r,itemsPerPage:e}}function me(t){const{page:r,itemsPerPage:e,itemsLength:a}=t,l=h(()=>e.value===-1?0:e.value*(r.value-1)),f=h(()=>e.value===-1?a.value:Math.min(a.value,l.value+e.value)),u=h(()=>e.value===-1||a.value===0?1:Math.ceil(a.value/e.value));T([r,u],()=>{r.value>u.value&&(r.value=u.value)});function n(g){e.value=g,r.value=1}function s(){r.value=B(r.value+1,1,u.value)}function c(){r.value=B(r.value-1,1,u.value)}function o(g){r.value=B(g,1,u.value)}const d={page:r,itemsPerPage:e,startIndex:l,stopIndex:f,pageCount:u,itemsLength:a,nextPage:s,prevPage:c,setPage:o,setItemsPerPage:n};return p(V,d),d}function ve(){const t=F(V);if(!t)throw new Error("Missing pagination!");return t}function ge(t){const r=O("usePaginatedItems"),{items:e,startIndex:a,stopIndex:l,itemsPerPage:f}=t,u=h(()=>f.value<=0?e.value:e.value.slice(a.value,l.value));return T(u,n=>{r.emit("update:currentItems",n)}),{paginatedItems:u}}const X={showSelectAll:!1,allSelected:()=>[],select:t=>{var a;let{items:r,value:e}=t;return new Set(e?[(a=r[0])==null?void 0:a.value]:[])},selectAll:t=>{let{selected:r}=t;return r}},G={showSelectAll:!0,allSelected:t=>{let{currentPage:r}=t;return r},select:t=>{let{items:r,value:e,selected:a}=t;for(const l of r)e?a.add(l.value):a.delete(l.value);return a},selectAll:t=>{let{value:r,currentPage:e,selected:a}=t;return G.select({items:e,value:r,selected:a})}},N={showSelectAll:!0,allSelected:t=>{let{allItems:r}=t;return r},select:t=>{let{items:r,value:e,selected:a}=t;for(const l of r)e?a.add(l.value):a.delete(l.value);return a},selectAll:t=>{let{value:r,allItems:e,selected:a}=t;return N.select({items:e,value:r,selected:a})}},ye=I({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:K}},"DataTable-select"),_=Symbol.for("vuetify:data-table-selection");function Se(t,r){let{allItems:e,currentPage:a}=r;const l=P(t,"modelValue",t.modelValue,i=>new Set(x(i).map(v=>{var w;return((w=e.value.find(z=>t.valueComparator(v,z.value)))==null?void 0:w.value)??v})),i=>[...i.values()]),f=h(()=>e.value.filter(i=>i.selectable)),u=h(()=>a.value.filter(i=>i.selectable)),n=h(()=>{if(typeof t.selectStrategy=="object")return t.selectStrategy;switch(t.selectStrategy){case"single":return X;case"all":return N;case"page":default:return G}});function s(i){return x(i).every(v=>l.value.has(v.value))}function c(i){return x(i).some(v=>l.value.has(v.value))}function o(i,v){const w=n.value.select({items:i,value:v,selected:new Set(l.value)});l.value=w}function d(i){o([i],!s([i]))}function g(i){const v=n.value.selectAll({value:i,allItems:f.value,currentPage:u.value,selected:new Set(l.value)});l.value=v}const y=h(()=>l.value.size>0),m=h(()=>{const i=n.value.allSelected({allItems:f.value,currentPage:u.value});return!!i.length&&s(i)}),S=h(()=>n.value.showSelectAll),b={toggleSelect:d,select:o,selectAll:g,isSelected:s,isSomeSelected:c,someSelected:y,allSelected:m,showSelectAll:S};return p(_,b),b}function he(){const t=F(_);if(!t)throw new Error("Missing selection!");return t}const be=I({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),$=Symbol.for("vuetify:data-table-sort");function we(t){const r=P(t,"sortBy"),e=A(t,"mustSort"),a=A(t,"multiSort");return{sortBy:r,mustSort:e,multiSort:a}}function Pe(t){const{sortBy:r,mustSort:e,multiSort:a,page:l}=t,f=s=>{if(s.key==null)return;let c=r.value.map(d=>({...d}))??[];const o=c.find(d=>d.key===s.key);o?o.order==="desc"?e.value?o.order="asc":c=c.filter(d=>d.key!==s.key):o.order="desc":a.value?c=[...c,{key:s.key,order:"asc"}]:c=[{key:s.key,order:"asc"}],r.value=c,l&&(l.value=1)};function u(s){return!!r.value.find(c=>c.key===s.key)}const n={sortBy:r,toggleSort:f,isSorted:u};return p($,n),n}function Ie(){const t=F($);if(!t)throw new Error("Missing sort!");return t}function ke(t,r,e,a){const l=Z();return{sortedItems:h(()=>{var u,n;return e.value.length?Y(r.value,e.value,l.current.value,{transform:a==null?void 0:a.transform,sortFunctions:{...t.customKeySort,...(u=a==null?void 0:a.sortFunctions)==null?void 0:u.value},sortRawFunctions:(n=a==null?void 0:a.sortRawFunctions)==null?void 0:n.value}):r.value})}}function Y(t,r,e,a){const l=new Intl.Collator(e,{sensitivity:"accent",usage:"sort"});return t.map(u=>[u,a!=null&&a.transform?a.transform(u):u]).sort((u,n)=>{var s,c;for(let o=0;o<r.length;o++){let d=!1;const g=r[o].key,y=r[o].order??"asc";if(y===!1)continue;let m=D(u[1],g),S=D(n[1],g),b=u[0].raw,i=n[0].raw;if(y==="desc"&&([m,S]=[S,m],[b,i]=[i,b]),(s=a==null?void 0:a.sortRawFunctions)!=null&&s[g]){const v=a.sortRawFunctions[g](b,i);if(v==null)continue;if(d=!0,v)return v}if((c=a==null?void 0:a.sortFunctions)!=null&&c[g]){const v=a.sortFunctions[g](m,S);if(v==null)continue;if(d=!0,v)return v}if(!d){if(m instanceof Date&&S instanceof Date)return m.getTime()-S.getTime();if([m,S]=[m,S].map(v=>v!=null?v.toString().toLocaleLowerCase():v),m!==S)return M(m)&&M(S)?0:M(m)?-1:M(S)?1:!isNaN(m)&&!isNaN(S)?Number(m)-Number(S):l.compare(m,S)}}return 0}).map(u=>{let[n]=u;return n})}export{be as a,fe as b,ae as c,ne as d,ee as e,we as f,de as g,se as h,ke as i,oe as j,me as k,ge as l,ye as m,Se as n,re as o,Pe as p,ie as q,ve as r,Ie as s,he as t,te as u,ce as v,le as w,ue as x};
