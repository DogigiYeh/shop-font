import{R as y,ad as V,G as g,c as h,Y as n,$ as v,X as o,L as s,ag as d,aj as i,W as u,_ as b,O as x,an as w}from"./index-CsVGTTef.js";import{b as p}from"./route-block-B_A1xBdJ.js";import{a as m,V as A}from"./VRow-DUbsh6-A.js";import{V as D}from"./VDivider-3wSq5W2s.js";import{V as B}from"./VDataTable-BHaLJHLD.js";import{V as O}from"./VContainer-BdD9yQ9D.js";import"./sort-zVflryhc.js";import"./VPagination-aLLJiE4p.js";import"./VList-CCNEPe3X.js";import"./VListItem-CifMXZEl.js";import"./VMenu-BQsD6w_X.js";import"./VChip-DaGP431G.js";const C={class:"text-center"},L={__name:"orders",setup(S){const{apiAuth:f}=w(),{t:r}=y(),_=V(),l=g([]),k=h(()=>[{title:"ID",key:"_id"},{title:r("order.account"),key:"user.account"},{title:r("order.createdAt"),key:"createdAt",value:t=>new Date(t.createdAt).toLocaleString()},{title:r("order.cart"),key:"cart",sortable:!1},{title:r("order.price"),key:"price",value:t=>t.cart.reduce((a,e)=>a+e.product.price*e.quantity,0)}]);return(async()=>{var t,a;try{const{data:e}=await f.get("/order/all");l.value=e.result}catch(e){console.log(e),_({text:r("api."+(((a=(t=e==null?void 0:e.response)==null?void 0:t.data)==null?void 0:a.message)||"unknownError")),snackbarProps:{color:"red"}})}})(),(t,a)=>(n(),v(O,null,{default:o(()=>[s(A,null,{default:o(()=>[s(m,{cols:"12"},{default:o(()=>[d("h1",C,i(t.$t("nav.adminOrders")),1)]),_:1}),s(D),s(m,{cols:"12"},{default:o(()=>[s(B,{items:l.value,headers:k.value},{"item.cart":o(e=>[d("ul",null,[(n(!0),u(x,null,b(e.item.cart,c=>(n(),u("li",{key:c._id},i(c.product.name)+" x "+i(c.quantity),1))),128))])]),_:2},1032,["items","headers"])]),_:1})]),_:1})]),_:1}))}};typeof p=="function"&&p(L);export{L as default};
